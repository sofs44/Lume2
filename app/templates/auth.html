{% load static crispy_forms_tags %}
<!DOCTYPE html>
<html lang="pt-br">

<head>
  <meta charset="UTF-8">
  <title>Lume â€“ Entrar / Cadastrar</title>
  <link rel="stylesheet" href="{% static 'css/login.css' %}">
</head>

<body>
  <div class="auth-container">
    <div class="tabs">
      <button id="tab-login" type="button" class="active">Entrar</button>
      <button id="tab-cadastro" type="button">Cadastrar</button>
    </div>

    <!-- PAINEL DE LOGIN -->
    <div id="pane-login" class="pane">
      <form method="post">
        {% csrf_token %}
        {{ login_form.username|as_crispy_field }}
        {{ login_form.password|as_crispy_field }}
        <div class="tipo-usuario">{{ login_form.tipo }}</div>
        <button name="btn-login" type="submit">Entrar</button>
      </form>
    </div>

    <!-- PAINEL DE CADASTRO -->
    <div id="pane-cadastro" class="pane hidden">
      <form method="post">
        {% csrf_token %}
        {{ cadastro_form.username|as_crispy_field }}
        {{ cadastro_form.password|as_crispy_field }}
        {{ cadastro_form.nome|as_crispy_field }}
        {{ cadastro_form.email|as_crispy_field }}
        {{ cadastro_form.data_nasc|as_crispy_field }}
        <div class="tipo-usuario">{{ cadastro_form.tipo }}</div>
        {{ cadastro_form.codigo|as_crispy_field }}
        <button name="btn-cadastro" type="submit">Cadastrar</button>
      </form>
    </div>

    <script>
      const loginTab = document.getElementById('tab-login');
      const cadTab = document.getElementById('tab-cadastro');
      const paneL = document.getElementById('pane-login');
      const paneC = document.getElementById('pane-cadastro');

      loginTab.onclick = () => {
        loginTab.classList.add('active'); cadTab.classList.remove('active');
        paneL.classList.remove('hidden'); paneC.classList.add('hidden');
      };
      cadTab.onclick = () => {
        cadTab.classList.add('active'); loginTab.classList.remove('active');
        paneC.classList.remove('hidden'); paneL.classList.add('hidden');
      };
    </script>

    {% if messages %}
    <ul class="msgs">
      {% for m in messages %}
      <li class="{{ m.tags }}">{{ m }}</li>
      {% endfor %}
    </ul>
    {% endif %}
  </div>
</body>
</html>
